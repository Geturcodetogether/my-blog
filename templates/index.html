{% extends "variables.html" %}

{% block html -%}
<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14 scheme-light dark:scheme-dark"
      lang="{{ g_hreflang | escape_xml | safe }}">

<head prefix="og: https://ogp.me/ns#
    {% if g_profile is defined %} profile: https://ogp.me/ns/profile#
    {% elif g_is_article %} article: https://ogp.me/ns/article#
    {% endif %}">
    {%- include "partials/head.html" %}
    <!-- Begin Head inject -->
    {% include "injects/head.html" ignore missing %}
    <!-- End Head inject -->
    {% include "partials/head_res.html" %}
    <!-- Begin Head End inject -->
    {% include "injects/head_end.html" ignore missing %}
    <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out dark:text-white">
    {% include "partials/header.html" %}

    <!-- Begin Body Start inject -->
    {% include "injects/body_start.html" ignore missing %}
    <!-- End Body Start inject -->

    <main
        class="prose prose-neutral dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg relative mx-auto min-h-[calc(100vh-4rem)] max-w-3xl px-4 pt-28 lg:pt-32 pb-12 wrap-break-word">

        {%- if config.build_search_index %}
            {% include "partials/search.html" %}
        {%- endif %}

        {% block main %}
            {%- if g_profile is defined %}
                {%- if paginator is undefined or paginator.current_index == 1 %}
                    {% include "partials/profile.html" %}
                {%- endif %}
            {%- elif section.title %}
                <h1 class="mb-16">{{ section.title }}</h1>
            {%- endif %}

            {%- if section.content %}
                <section>{{ section.content | safe }}</section>
            {%- endif %}
            {# ===== é¦–é¡µï¼šå±•ç¤ºä¸€ç¯‡å›ºå®šæ–‡ç« çš„èŠ‚é€‰ ===== #}

            {% set excerpt_page = get_page(path="pages/thoughts.md") %}
            
            <section class="p-10 my-1 border rounded-lg shadow-sm">
                <h2 class="text-xl font-semibold mb-3">ğŸ¸ æ¯æ—¥çµæ„Ÿ</h2>
            
                {# ---- æå–æ­£æ–‡å‰ 10 æ®µ ---- #}
                {% set paragraphs = excerpt_page.content | split(pat="</p>") %}
                {% set first10 = paragraphs | slice(end=10) %}
                {% set preview_html = first10 | join(sep="</p>") %}
                {% set preview_html = preview_html ~ "</p>" %}
            
                <div class="text-justify max-w-4xl mx-auto prose dark:prose-invert text-gray-700 dark:text-gray-300">
                    {{ preview_html | safe }}
                </div>
            
                {# ---- é˜…è¯»å…¨æ–‡æŒ‰é’® ---- #}
                <div class="mt-4">
                    <a href="{{ excerpt_page.permalink }}"
                       class="inline-block px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 dark:border-gray-600
                              hover:bg-gray-100 dark:hover:bg-gray-700 transition">
                        é˜…è¯»æ‰€æœ‰çŸ­æƒ³æ³• â†’
        
                    </a>
                </div>
            </section>
            <br/><br/>
            
            
            
            {% include "partials/page_list.html" %}
        {% endblock main %}
    </main>

    {% include "partials/footer.html" %}
    {% include "partials/body_res.html" %}

    <!-- Begin Body End inject -->
    {% include "injects/body_end.html" ignore missing %}
    <!-- End Body End inject -->
</body>

</html>
{%- endblock html %}
